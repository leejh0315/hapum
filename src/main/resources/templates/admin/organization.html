<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>ì œë‹¨ì²´ ê´€ë¦¬</title>
	<link rel="stylesheet" th:href="@{/css/admin/header.css}">
	<style>
		/* í˜ì´ì§€ ì „ì²´ ìŠ¤í¬ë¡¤ ìˆ¨ê¸°ê¸° */
		body {
			margin: 0;
			padding: 0;
			
overflow-x: hidden;   /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ì°¨ë‹¨ */
overflow-y: auto;     /* ì„¸ë¡œ ìŠ¤í¬ë¡¤ í—ˆìš© */
			font-family: Arial, sans-serif;
		}

		/* ìµœìƒìœ„ ì»¨í…Œì´ë„ˆ: í—¤ë”+ë‘ ê°œì˜ ì„¹ì…˜ */
		.wrapper {
			display: flex;
			flex-direction: column;
			height: calc(100vh - 60px);
			/* í—¤ë” ë†’ì´ë¥¼ ì •í™•íˆ ë°˜ì˜ */
			overflow-y: auto;
		}

		.wrapper h1 {
			text-align: center;
			margin: 15px 0;
		}

		/* ì„¹ì…˜(í™œì„± / ë¹„í™œì„±) */
		.section {
			flex: 1;
			display: flex;
			flex-direction: column;
		}

		.section .title {
			text-align: center;
			margin: 5px 0;
			font-size: 1.1rem;
			font-weight: bold;
		}

		/* ì¹´ë“œ í–‰: flex + ê°€ë¡œ ìŠ¤í¬ë¡¤ */
		.org-row {
			flex: 1;
			display: flex;
			gap: 20px;
			padding: 0 20px;
			overflow-x: auto;
			overflow-y: hidden;
			/* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼(í•„ìš”ì‹œ) */
			scrollbar-width: thin;
			scrollbar-color: #aaa transparent;
		}

		.org-row::-webkit-scrollbar {
			height: 6px;
		}

		.org-row::-webkit-scrollbar-thumb {
			background: #aaa;
			border-radius: 3px;
		}

		/* ê° ì¹´ë“œ */
		.org-card {
			position: relative;
			flex: 0 0 250px;
			border: 1px solid #ccc;
			border-radius: 5px;
			padding: 15px;
			box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
			background-color: #fff;
			text-align: center;
		}

		.org-card img {
			width: 150px;
			height: 150px;
			object-fit: cover;
			border-radius: 50%;
			margin-bottom: 10px;
		}

		.org-card h2 {
			font-size: 18px;
			margin: 10px 0 5px;
			color: #333;
		}

		.org-card p {
			font-size: 14px;
			color: #666;
			line-height: 1.4;
		}

		/* ì‚­ì œ ë²„íŠ¼ (ìš°ì¸¡ ìƒë‹¨) */
		.delete-button {
			position: absolute;
			top: 8px;
			right: 8px;
			background: transparent;
			border: none;
			font-size: 18px;
			color: #e74c3c;
			cursor: pointer;
		}

		.delete-button:hover {
			color: #c0392b;
		}

		/* ìƒíƒœ ë³€ê²½ ë²„íŠ¼ (ìš°ì¸¡ í•˜ë‹¨) */
		.status-button {
			position: absolute;
			bottom: 8px;
			right: 8px;
			background: transparent;
			border: none;
			font-size: 18px;
			color: #3498db;
			cursor: pointer;
		}

		.status-button:hover {
			color: #21618c;
		}

		/* ìƒë‹¨ â€œì¶”ê°€â€ ë²„íŠ¼ */
		.top-actions {
			text-align: center;
			margin-bottom: 10px;
		}

		.add-org-button {
			display: inline-block;
			background-color: #007bff;
			color: #fff;
			padding: 8px 16px;
			border-radius: 4px;
			text-decoration: none;
			font-size: 14px;
			margin: 0 5px;
		}

		.add-org-button:hover {
			background-color: #0069d9;
		}
	</style>
</head>

<body>

	<!-- í—¤ë” -->
	<div th:replace="~{admin/admin-header :: admin-header}"></div>
	<div class="wrapper">
		<h1>ì œë‹¨ì²´ ê´€ë¦¬</h1>
		<div class="top-actions">
			<a href="/admin/organization/add" class="add-org-button">ì œë‹¨ì²´ ì¶”ê°€</a>
			<a href="/admin/organization/write" class="add-org-button">ê¸€ì“°ê¸°</a>
		</div>

		<!-- í™œì„± ë‹¨ì²´ -->
		<div class="section">
			<div class="title">í™œì„± ë‹¨ì²´</div>
			<div class="org-row">
				<div class="org-card" th:each="org : ${organizations}" th:if="${org.openStatus == 'Y'}">

					<form th:action="@{/admin/organization/updateCode/{orgId}(orgId=${org.id})}" method="post">
						<!-- í˜„ì¬ ìƒíƒœë¥¼ ë³´ë‚´ë©´, ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë°˜ì „ ì²˜ë¦¬ -->
						<input type="hidden" name="statusCode" th:value="${org.openStatus}" />
						<button type="submit" class="status-button"
							th:title="${org.openStatus == 'Y' ? 'ë¹„í™œì„±í™”' : 'í™œì„±í™”'}">
							ğŸ”„
						</button>
					</form>

					<img th:if="${org.profileSrc != null}" th:src="@{${org.profileSrc}}" alt="í”„ë¡œí•„ ì´ë¯¸ì§€" />
					<h2 th:text="${org.name}">ì¡°ì§ ì´ë¦„</h2>
					<p th:text="${org.introduce}">ì¡°ì§ ì†Œê°œ</p>
				</div>
			</div>
		</div>

		<!-- ë¹„í™œì„± ë‹¨ì²´ -->
		<div class="section">
			<div class="title">ë¹„í™œì„± ë‹¨ì²´</div>
			<div class="org-row">
				<div class="org-card" th:each="org : ${organizations}" th:if="${org.openStatus == 'N'}">

					<form th:action="@{/admin/organization/updateCode/{orgId}(orgId=${org.id})}" method="post">
						<input type="hidden" name="statusCode" th:value="${org.openStatus}" />
						<button type="submit" class="status-button"
							th:title="${org.openStatus == 'Y' ? 'ë¹„í™œì„±í™”' : 'í™œì„±í™”'}">
							ğŸ”„
						</button>
					</form>

					<img th:if="${org.profileSrc != null}" th:src="@{${org.profileSrc}}" alt="í”„ë¡œí•„ ì´ë¯¸ì§€" />
					<h2 th:text="${org.name}">ì¡°ì§ ì´ë¦„</h2>
					<p th:text="${org.introduce}">ì¡°ì§ ì†Œê°œ</p>
				</div>
			</div>
		</div>

		<script th:src="@{/js/header.js}"></script>
	</div>
</body>

</html>