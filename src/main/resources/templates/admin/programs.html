<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>í”„ë¡œê·¸ë¨ ëª©ë¡</title>

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" th:href="@{/css/admin/header.css}" />

	<style>
		.program-scroll {
			display: flex;
			gap: 1rem;
			overflow-x: auto;
			padding-bottom: 10px;
			height: 250px;
		}

		.program-card {
			min-width: 150px;
			border: 1px solid #dee2e6;
			border-radius: 8px;
			padding: 10px;
			background: #fff;
		}

		.program-card img {
			width: 150px;
			height: 150px;
			border-radius: 4px;
		}

		.program-title {
			font-weight: 600;
			margin-top: 10px;
		}

		.status-button {
			background: none;
			border: none;
			font-size: 18px;
			cursor: pointer;
			margin-top: 5px;
		}

		.program-add-section {
			margin-bottom: 40px;
		}

		.program-add-title {
			font-size: 1.25rem;
			font-weight: bold;
			margin-bottom: 10px;
		}
	</style>
</head>

<body>

	<!-- í—¤ë” -->
	<div class="program-header" th:replace="~{admin/admin-header :: admin-header}"></div>

	<div class="container">
		<div class="row">

			<!-- ì¢Œì¸¡: ì§„í–‰ì¤‘ì¸ í”„ë¡œê·¸ë¨ -->
			<div class="col-md-6 mt-4">
				<h3 class="text-center">ì§„í–‰ì¤‘ì¸ í”„ë¡œê·¸ë¨</h3>

				<div th:each="entry : ${programs}">
					<!-- í”„ë¡œê·¸ë¨ ê·¸ë£¹ ì „ì²´ê°€ ì§„í–‰ì¤‘ì¸ ê²½ìš°ë§Œ -->
					<div class="program-add-section" th:if="${entry.key.openStatus == 'Y'}">
						<div class="program-add-title d-flex align-items-center">
							<span th:text="${entry.key.name}">ê·¸ë£¹ëª…</span>

							<form th:action="@{/admin/programAdd/updateCode/{addId}(addId=${entry.key.id})}"
								method="post" class="d-inline">
								<input type="hidden" name="code" th:value="${entry.key.openStatus}" />
								<button type="submit" class="btn btn-sm btn-outline-secondary" title="ìƒíƒœ ë³€ê²½">
									ğŸ”„
								</button>
							</form>
							<a th:href="@{/admin/programAdd/update/{addId}(addId=${entry.key.id})}"
								class="btn btn-sm btn-outline-primary ms-1" title="ìˆ˜ì •í•˜ê¸°">âœï¸</a>
							<form th:action="@{/admin/programAdd/delete/{addId}(addId=${entry.key.id})}" method="post"
								onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')" class="d-inline">
								<button type="submit" class="btn btn-sm btn-outline-danger ms-1"
									title="ì‚­ì œí•˜ê¸°">ğŸ—‘ï¸</button>
							</form>
						</div>
						<div class="program-scroll">
							<div class="program-card" th:each="program : ${entry.value}"
								th:if="${program.openStatus == 'Y'}">
								<a th:href="@{/admin/program/detail/{id}(id=${program.id})}">
									<img th:src="@{${program.thumbnailSrc}}" alt="ì¸ë„¤ì¼">
									<div class="program-title" th:text="${program.title}">ì œëª©</div>
								</a>
								<div class="d-inline-flex align-items-center mt-1 gap-1">
									<form th:action="@{/admin/program/updateCode/{programId}(programId=${program.id})}"
										method="post">
										<input type="hidden" name="code" th:value="${program.openStatus}">
										<button type="submit" class="status-button" title="ìƒíƒœ ë³€ê²½">ğŸ”„</button>
									</form>
									<a th:href="@{/admin/program/update/{id}(id=${program.id})}"
										class="btn btn-sm btn-outline-primary mt-1" title="ìˆ˜ì •í•˜ê¸°">âœï¸</a>
									<form th:action="@{/admin/program/delete/{id}(id=${program.id})}"
										method="post" onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')" class="d-inline">
										<button type="submit" class="btn btn-sm btn-outline-danger ms-1"
											title="ì‚­ì œí•˜ê¸°">ğŸ—‘ï¸</button>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- ìš°ì¸¡: ì¢…ë£Œëœ í”„ë¡œê·¸ë¨ -->
			<div class="col-md-6 mt-5">
				<h3 class="text-center">ì¢…ë£Œëœ í”„ë¡œê·¸ë¨</h3>

				<!-- ì¢…ë£Œëœ ProgramAdd ê·¸ë£¹ -->
				<div th:each="entry : ${programs}">
					<div class="program-add-section" th:if="${entry.key.openStatus == 'N'}">
						<div class="program-add-title d-flex align-items-center">
							<span th:text="${entry.key.name}">ê·¸ë£¹ëª…</span>
							<form th:action="@{/admin/programAdd/updateCode/{addId}(addId=${entry.key.id})}"
								method="post" class="d-inline">
								<input type="hidden" name="code" th:value="${entry.key.openStatus}" />
								<button type="submit" class="btn btn-sm btn-outline-secondary" title="ìƒíƒœ ë³€ê²½">
									ğŸ”„
								</button>
							</form>
							<a th:href="@{/admin/programAdd/update/{addId}(addId=${entry.key.id})}"
								class="btn btn-sm btn-outline-primary ms-1" title="ìˆ˜ì •í•˜ê¸°">âœï¸</a>
							<form th:action="@{/admin/programAdd/delete/{addId}(addId=${entry.key.id})}" method="post"
								onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')" class="d-inline">
								<button type="submit" class="btn btn-sm btn-outline-danger ms-1"
									title="ì‚­ì œí•˜ê¸°">ğŸ—‘ï¸</button>
							</form>
						</div>
						<div class="program-scroll">
							<div class="program-card" th:each="program : ${entry.value}">
								<a th:href="@{/admin/program/detail/{id}(id=${program.id})}">
									<img th:src="@{${program.thumbnailSrc}}" alt="ì¸ë„¤ì¼">
									<div class="program-title" th:text="${program.title}">ì œëª©</div>
								</a>
								<div class="d-inline-flex align-items-center mt-1 gap-1">
									<form th:action="@{/admin/program/updateCode/{programId}(programId=${program.id})}"
										method="post">
										<input type="hidden" name="code" th:value="${program.openStatus}">
										<button type="submit" class="status-button" title="ìƒíƒœ ë³€ê²½">ğŸ”„</button>
									</form>
									<a th:href="@{/admin/program/update/{id}(id=${program.id})}"
										class="btn btn-sm btn-outline-primary mt-1" title="ìˆ˜ì •í•˜ê¸°">âœï¸</a>
									<form th:action="@{/admin/program/delete/{id}(id=${program.id})}"
										method="post" onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')" class="d-inline">
										<button type="submit" class="btn btn-sm btn-outline-danger ms-1"
											title="ì‚­ì œí•˜ê¸°">ğŸ—‘ï¸</button>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- ì§„í–‰ì¤‘ì¸ ProgramAdd ë‚´ ì¢…ë£Œëœ Programë§Œ ë³„ë„ë¡œ ì¶œë ¥ -->
				<!-- ì§„í–‰ì¤‘ì¸ ProgramAdd ë‚´ ì¢…ë£Œëœ í”„ë¡œê·¸ë¨ë§Œ ì¶œë ¥ -->
				<div th:each="entry : ${programs}">
					<div class="program-add-section" th:if="${entry.key.openStatus == 'Y'}">
						<!-- ì¢…ë£Œëœ í”„ë¡œê·¸ë¨ì´ í•˜ë‚˜ë¼ë„ ìˆì„ ë•Œë§Œ í‘œì‹œ -->
						<div class="program-add-title">[[${entry.key.name}]] - ì¢…ë£Œëœ í”„ë¡œê·¸ë¨</div>
						<div class="program-scroll">
							<!-- ì¢…ë£Œëœ í”„ë¡œê·¸ë¨ë§Œ ë°˜ë³µ ì¶œë ¥ -->
							<div class="program-card" th:each="program : ${entry.value}"
								th:if="${program.openStatus == 'N'}">
								<a th:href="@{/admin/program/detail/{id}(id=${program.id})}">
									<img th:src="@{${program.thumbnailSrc}}" alt="ì¸ë„¤ì¼">
									<div class="program-title" th:text="${program.title}">ì œëª©</div>
								</a>
								<div class="d-inline-flex align-items-center mt-1 gap-1">
									<form th:action="@{/admin/program/updateCode/{programId}(programId=${program.id})}"
										method="post">
										<input type="hidden" name="code" th:value="${program.openStatus}">
										<button type="submit" class="status-button" title="ìƒíƒœ ë³€ê²½">ğŸ”„</button>
									</form>
									<a th:href="@{/admin/program/update/{id}(id=${program.id})}"
										class="btn btn-sm btn-outline-primary mt-1" title="ìˆ˜ì •í•˜ê¸°">âœï¸</a>
									<form th:action="@{/admin/program/delete/{id}(id=${program.id})}"
										method="post" onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')" class="d-inline">
										<button type="submit" class="btn btn-sm btn-outline-danger ms-1"
											title="ì‚­ì œí•˜ê¸°">ğŸ—‘ï¸</button>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>


			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script th:src="@{/js/header.js}"></script>
</body>

</html>