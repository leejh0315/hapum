<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>하품센터-프로그램</title>
	<link rel="stylesheet" th:href="@{/css/header.css}">
	<link rel="stylesheet" th:href="@{/css/footer.css}">
	<link rel="stylesheet" th:href="@{/css/main/program.css}">
	<script src="https://code.jquery.com/jquery-latest.min.js"></script>
	<style>
		/* 기본 페이지 스타일 */
		body {
			margin: 0;
			font-family: Arial, sans-serif;
			background-color: #FFFFFF;
		}

		/* 전체 컨테이너: introduce/information 페이지와 유사한 레이아웃 */
		.container {
			display: flex;
			flex: 1;
			height: 100vh;
			padding-left: 7%;
			padding-right: 7%;
			gap: 20px;
		}

		/* 좌측 사이드바 */
		/* 기존 사이드바 스타일 */
		/* 좌측 사이드바 스타일 수정 */
		.sidebar {
			width: 180px;
			background-color: #D6CCC2;
			border-right: 1px solid #D5BDAF;
			border-left: 1px solid #D5BDAF;
			display: flex;
			flex-direction: column;
			/* 좌우와 하단 패딩은 유지하고, 상단 패딩은 0으로 설정 */
			padding: 0 10px 10px;
		}

		/* 기존 sidebar-title 스타일 그대로 사용 */
		.sidebar-title {
			margin: 0 -10px 10px;
			width: calc(100% + 20px);
			box-sizing: border-box;
			cursor: pointer;
			padding: 12px 10px;
			text-align: center;
			background-color: #F5EBE0;
			border-bottom: 1px solid #D5BDAF;
			font-size: 18px;
			font-weight: bold;
			color: #333;
		}


		/* 메뉴 버튼 (세로 정렬) */
		.menu-button {
			/* box-sizing 을 보장해야 calc 가 정상 동작합니다 */
			box-sizing: border-box;

			/* 기존 스타일 */
			display: block;
			padding: 12px;
			text-align: center;
			background-color: #F5EBE0;
			border: none;
			border-bottom: 1px solid #D5BDAF;
			font-size: 16px;
			cursor: pointer;
			color: #333;
			transition: background-color 0.3s;

			/* 여기서 사이드바의 좌우 padding(10px) 만큼 음수 마진을 주고,
     width 를 100% + 2*padding 만큼 늘려서 꽉 차도록 한다 */
			margin: 0 -10px;
			width: calc(100% + 20px);
		}

		.menu-button:hover {
			background-color: #E3D5CA;
		}

		/* active 상태인 메뉴 버튼 (필요에 따라 수정) */
		.menu-button.active {
			background-color: #D5BDAF;
			color: white;
			font-weight: bold;
		}

		/* 오른쪽 콘텐츠 영역 */
		.content {
			flex: 1;
			padding: 3%;
			background-color: #FFFFFF;
			overflow-y: auto;

		}

		/* 프로그램 리스트 (카드 형태) */
		.program-list {
			display: flex;
			flex-wrap: wrap;
			gap: 20px;
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			gap: 20px;
		}

		/* 프로그램 카드 */
		.program-card {
			width: 160px;
			text-align: center;
		}

		.program-card img {
			width: 100%;
			height: auto;
			border-radius: 8px;
		}

		.program-title {
			margin-top: 8px;
			font-weight: 500;
		}
	</style>
</head>

<body>
	<div th:replace="~{main/header :: headFrag(${user})}"></div>

	<div class="container">
		<!-- 좌측 사이드바 -->
		<div class="sidebar">
			<div class="sidebar-title" onclick="location.href='/main/program'">프로그램</div>
			<button th:each="programAdd : ${programAdds}" th:text="${programAdd.name}"
				th:onclick="|location.href='/main/programList/${programAdd.id}'|" class="menu-button"
				th:classappend="${activeTab == programAdd.id} ? ' active' : ''">
			</button>

		</div>

		<!-- 오른쪽 콘텐츠 영역 -->
		<div class="content">
			<div class="program-list">
				<a th:each="program : ${programs}" th:href="@{/main/program/detail/{id}(id=${program.id})}"
					class="program-card">
					<img th:src="@{${program.thumbnailSrc}}" alt="썸네일 이미지" />
					<div class="program-title" th:text="${program.title}"></div>
				</a>
			</div>
		</div>
	</div>

	<div th:replace="~{main/footer :: footer}"></div>
	<script th:src="@{/js/header.js}"></script>
</body>

</html>